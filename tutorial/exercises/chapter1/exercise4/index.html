<!DOCTYPE html>
<html>

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../../assets/css/style.css">
    <link rel="stylesheet" href="../../../assets/css/dropdown.css">
    <title>SPARQL Tutorial</title>
    <link href="../../../../query/assets/css/yasgui.css" rel="stylesheet" type="text/css" />
    <script src="https://unpkg.com/@triply/yasgui/build/yasgui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>
</head>

<body>
    <header>

        <a href="../../../../index.html" class="logo">
            <img src="../../../../assets/img/learnsparql_logo.png" alt="logo" width="80" height="80">
        </a>

        <nav>
            <ul class="navigation_links">
                <li><a class="one" href="../../../../tutorial/index.html">Tutorial</a></li>
                <li><a href="../../../../cheatsheet/index.html">Cheatsheet</a></li>
                <li><a href="../../../../query/index.html">Query</a></li>
            </ul>
        </nav>
    </header>

    <div class="sidenav">
        <button class="dropdown_chapter1">Chapter 1
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdwon_chapter1_container">


            <a href="#" class="dropdown_chapter1_list">Exercise 1</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 2</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 3</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 4</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 5</a><br>


        </div>

        <button class="dropdown_chapter1">Chapter 2
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdwon_chapter1_container">


            <a href="#" class="dropdown_chapter1_list">Exercise 1</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 2</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 3</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 4</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 5</a><br>


        </div>

        <button class="dropdown_chapter1">Chapter 3
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdwon_chapter1_container">


            <a href="#" class="dropdown_chapter1_list">Exercise 1</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 2</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 3</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 4</a><br>
            <a href="#" class="dropdown_chapter1_list">Exercise 5</a><br>


        </div>

    </div>


    <div class="split">

        <h1>Exercise 4</h1>

        List all songs which Shakira has written.<br> 
        Use <b>dbo:writer</b> and <a href="https://dbpedia.org/page/Shakira" style="color:DodgerBlue">Shakira from dbpedia</a><br><br>


        <div id="yasgui"></div>

        <script type="text/javascript" src="../../../assets/js/dropdown.js"></script>
        <script>
            const yasgui = new Yasgui(document.getElementById("yasgui"));
            var realresults;
            let data = "query=PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> SELECT * WHERE {?sub ?pred ?obj .} LIMIT 10";

            yasgui.on("query",() => {
                fetch('https://dbpedia.org/sparql', {
                method: 'POST',
                headers: {
                'Accept' : 'application/sparql-results+json,*/*;q=0.9',
                'Content-Type' : 'application/x-www-form-urlencoded',
                'Content-Length' : '250'
                },
                body: encodeURI(data)})
                .then((response) => response.json())
                .then((data) => realresults = data)
                .then(()=> console.log('resultone',realresults));
                //console.log(event.returnValue);
                let yasr = yasgui.getTab().yasr;
                let userresults =yasr.results.json;
                console.log('result2',userresults);
                if (_.isEqual(realresults,userresults)){
                    console.log('equivalent');

            }});
            
        </script>
    </div>

    
</body>

</html>